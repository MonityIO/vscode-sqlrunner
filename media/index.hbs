<!DOCTYPE html>
<html>
    <head>
        <title>SqlRunner</title>
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src {{csp_source}}; script-src 'nonce-{{nonce}}';">
        <link href="{{media_uri 'datatables.min.css'}}" rel="stylesheet" />
        <link href="{{media_uri 'main.css'}}" rel="stylesheet" />

        <script nonce="{{nonce}}" src="{{media_uri 'datatables.min.js'}}"></script>
    </head>

    <body>
        <table id="results-table" class="table table-striped">
            <thead>
                {{#each column_names}}
                    <th>{{this}}</th>
                {{/each}}
            </thead>
            <tbody>
                {{#each rows as | row |}}
                    {{#each row as | column |}}
                        <td>{{column}}</td>
                    {{/each}}
                {{/each}}
            </tbody>
        </table>

        <script nonce="{{nonce}}">$('#results-table').DataTable({processing: true})</script>
    </body>
</html>
