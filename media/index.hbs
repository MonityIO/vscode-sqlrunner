<!DOCTYPE html>
<html>
    <head>
        <title>SqlRunner</title>
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src {{csp_source}}; script-src 'nonce-{{nonce}}';">
        <link href="{{media_uri 'datatables.min.css'}}" rel="stylesheet" />
        <link href="{{media_uri 'main.css'}}" rel="stylesheet" />

        <script nonce="{{nonce}}" src="{{media_uri 'datatables.min.js'}}"></script>
    </head>

    <body>
        <div content="container">
            {{#if time }}
                <div class="alert alert-success" role="alert">
                    Query executed in approximately {{time}} seconds
                </div>
            {{/if}}

            <div class="row">
                <div class="col-md-12">
                    <table id="results-table" class="table table-striped">
                        <thead>
                            {{#each column_names}}
                                <th>{{this}}</th>
                            {{/each}}
                        </thead>
                        <tbody>
                            {{#each rows as | row |}}
                                <tr>
                                    {{#each row as | column |}}
                                        <td>{{column}}</td>
                                    {{/each}}
                                </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <script nonce="{{nonce}}">$('#results-table').DataTable({processing: true})</script>
    </body>
</html>
